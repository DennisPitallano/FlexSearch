<md-content flex layout-wrap layout="row" style="height:100%">
	<md-content id="session-sidebar" flex="25" layout="column" class="md-whiteframe-z2">
		<md-toolbar>
			<div class="md-toolbar-tools">
				<md-select placeholder="Select index" ng-model="IndexNumber" required ng-change="updatePage()">
					<md-option ng-repeat="index in Indices" value="{{$index}}">'{{index.Name}}' index</md-option>
				</md-select>
				<span flex></span>
				<md-switch class="md-primary md-warn" ng-model="SearchMode" aria-label="Profile Mode">
					Profile Mode
				</md-switch>
			</div>
		</md-toolbar>
		<md-subheader>Select the Fields from the below table to output in the search result</md-subheader>
		<md-content flex layout="row" layout-align="center" style="margin-top:0px;padding-top:0px">
			<md-content flex style="margin-top:0px;padding-top:0px">
				<table style="margin-top:0px;padding-top:0px">
					<thead>
						<tr>
							<th>Field Name</th>
							<th>Value (Profile Only)</th>
						</tr>
					</thead>
					<tbody>
						<tr style="padding:0;margin:0">
							<td colspan="2" style="padding:0 0 0 5px; margin:0">
								<md-checkbox class="md-primary" mg-model="ReturnAllColumns">Return all columns</md-checkbox>
								<md-divider></md-divider>
							</td>
						</tr>
						<tr ng-repeat="field in ActiveIndex.Fields" style="padding:0;margin:0">
							<td style="padding:0 0 0 5px;margin:0">
								<md-checkbox class="md-primary" ng-model="field.Show">{{field.Name}}</md-checkbox>
							</td>
							<td style="padding:0;margin:0">
								<md-input-container md-no-float style="padding:0;margin:0">
									<input ng-disabled="SearchMode != true" class="md-primary" type="text" value="{{field.Value}}" placeholder="'{{field.Name}}' value">
								</md-input-container>
							</td>
						</tr>
					</tbody>
				</table>
			</md-content>
		</md-content>
	</md-content>
	<md-whiteframe id="session-comparison-box" flex layout="column">
		<md-toolbar>
			<div class="md-toolbar-tools">
				<h3>Search Studio</h3>
				<div flex></div>
				<md-button ng-click="submit(Indices[IndexNumber])" type="submit" ng-disabled="form.$invalid || !atLeastOneFieldIsPopulated()">
					<md-icon ng-class="md-light">send</md-icon>Submit</md-button>
			</div>
		</md-toolbar>
		<md-content>
			<div ui-ace="AceOptions" ng-model="SearchQuery" style="height:350px; font-size:1.1em;"></div>
		</md-content>
		<div style="background:#c8c8c8;padding:1em">
			<div layout="row" style="margin-top:0px;padding-top:0px">
				<md-input-container flex style="margin-top:0px;padding-top:0px">
					<label>Search Profiles</label>
					<md-select placeholder="Select a profile" ng-model="SearchProfile">
						<md-option ng-repeat="profile in ActiveIndex.SearchProfiles" value="{{$index}}">{{profile.Name}}</md-option>
					</md-select>
				</md-input-container>
				<md-input-container flex style="margin-top:0px;padding-top:0px">
					<label>Records to retrieve</label>
					<input ng-model="RecordsToRetrieve">
				</md-input-container>
				<md-input-container flex style="margin-top:0px;padding-top:0px">
					<label>Order By</label>
					<md-select placeholder="Select Order by field" ng-model="OrderBy">
						<md-option ng-repeat="field in ActiveIndex.Fields" value="{{$index}}">{{field.Name}}</md-option>
					</md-select>
				</md-input-container>
				<md-input-container flex style="margin-top:0px;padding-top:0px">
					<label>Order Direction</label>
					<md-select placeholder="Select Order Direction" ng-model="OrderByDirection">
						<md-option value="asc">Ascending</md-option>
						<md-option value="desc">Descending</md-option>
					</md-select>
				</md-input-container>
			</div>
		</div>
		<div flex ui-grid="GridOptions" ui-grid-pagination ui-grid-exporter ui-grid-selection class="grid" style="height:100%"></div>
	</md-whiteframe>
</md-content>