<form name="form">
<md-toolbar>
	  <div class="md-toolbar-tools">
	    <h3>New Session</h3>
	    <span flex></span>
		<md-button ng-click=" closeSidenav(); createSession();" type="submit" ng-disabled="form.$invalid" >
	    	<md-icon ng-class="md-light">send</md-icon>
	      Create
	    </md-button>
	  </div>
	  <md-progress-linear md-mode="indeterminate" ng-show="false"></md-progress-linear>
</md-toolbar>
	
<md-content layout="column" layout-padding>
	<md-select placeholder="Index Name" ng-model="IndexNumber" md-on-open="clearDependencies()" required>
		<md-option ng-repeat="index in Indices" value="{{$index}}">'{{index.Name}}' index</md-option>
	</md-select>
	<md-select placeholder="Field Name" ng-model="FieldName" ng-disabled="IndexNumber == null" required>
		<md-option ng-repeat="field in Indices[IndexNumber].Fields" value="{{field}}">'{{field}}' display field</md-option>
	</md-select>
	<md-select placeholder="Profile Name" name="profileName" ng-model="ProfileNumber" ng-disabled="IndexNumber == null" required>
		<md-option ng-repeat="sp in Indices[IndexNumber].SearchProfiles" value="{{$index}}">'{{sp.Name}}' profile</md-option>
	</md-select>
	<md-input-container layout-fill>
	  <label>Search Profile Query String</label>
	  <textarea columns="1" ng-model="Indices[IndexNumber].SearchProfiles[ProfileNumber].QueryString" disabled></textarea>
	</md-input-container>
	<md-input-container layout-fill>
	  <label>File Path</label>
	  <input ng-model="FileName" ng-required="!SelectionQuery" ng-disabled="!!SelectionQuery">
	</md-input-container>
	<md-input-container layout-fill>
	  <label>Selection Query</label>
	  <input ng-model="SelectionQuery" ng-required="!FileName" ng-disabled="!!FileName">
	</md-input-container>
	
	<h2 class="md-title">Optional parameters</h2>
	
	<md-input-container layout-fill>
	  <label>Thread Count</label>
	  <input ng-model="ThreadCount" type="number">
	</md-input-container>
	<md-input-container layout-fill>
	  <label>Max Records To Scan</label>
	  <input ng-model="MaxRecordsToScan" type="number">
	</md-input-container>
	<md-input-container layout-fill>
	  <label>Max Duplicates To Return</label>
	  <input ng-model="MaxDupsToReturn" type="number">
	</md-input-container>
</md-content>
</form>