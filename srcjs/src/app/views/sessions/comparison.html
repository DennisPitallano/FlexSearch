<md-toolbar>
  <div class="md-toolbar-tools">
    <h3>{{ActiveDuplicate.SourceDisplayName}}  (ID: {{ActiveDuplicate.SourceId}})</h3>
    <span flex></span>
    <md-button ng-click="doReview()" ng-disabled="ActiveDuplicate.SourceStatus > 0">
      <md-icon ng-class="[md-light, review, {'md-inactive': ActiveDuplicate.SourceStatus > 0}]">check_circle</md-icon>
      {{ActiveDuplicate.SourceStatus == 1 ? 'Reviewed' : 'Review'}}
    </md-button>
    <md-button ng-click="doProcessing()" ng-disabled="!atLeastOneMaster() || ActiveDuplicate.SourceStatus == 2">
      <md-icon ng-class="[md-light, process]">send</md-icon>
      {{ActiveDuplicate.SourceStatus == 2 ? 'Processed' : 'Process'}}
    </md-button>
  </div>
</md-toolbar>
<md-content id="session-comparison-result-box" flex layout="row" layout-align="center">
  <md-content flex class="scrollable">
    <md-content layout="row" layout-padding>
      <md-input-container class="full-width no-bottom-padding">
        <label>Notes</label>
        <textarea maxlength="1000" ng-disabled="ActiveDuplicate.SourceStatus == 2" ng-model="ActiveDuplicate.Notes"></textarea>
      </md-input-container>
    </md-content>
    <table class="bordered" id="session-comparison-table">
      <thead>
        <tr>
          <th>Field Name</th>
          <th>
            <div layout="row" layout-align="space-between center">
              <span class="centered">
                Source: <md-button class="md-primary" ng-click="doItemClick(Source)">{{Source.Name}}</md-button>
              </span>
            </div>
          </th>

          <th ng-repeat="target in Targets" class="target">
            <div layout="row" layout-align="space-between center">
              <span class="centered">
                Match {{$index + 1}}: <md-button class="md-primary" ng-click="doItemClick(target)">{{target.Name}}</md-button>
              </span>
              <md-switch class="md-primary" ng-change="syncSwitches(target.Id)" ng-model="target.TrueDuplicate" aria-label="{{target.Name}}"></md-switch>
            </div>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="field in FieldNames">
          <td>{{field}}</td>
          <td>{{Source.Values[$index]}}</td>
          <td ng-repeat="target in $parent.Targets" ng-class="areEqual($parent.$index, $index) ? '': 'negative'">
            {{target.Values[$parent.$index]}}
          </td>
        </tr>
      </tbody>
    </table>
  </md-content>
</md-content>